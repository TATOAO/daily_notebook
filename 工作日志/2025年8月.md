

# 执行器日志

构思:

有一个pipe管道中心，
至少包括一个输入和输出管道
start_pipe
end_pipe

每个执行器都需要订阅N个管道, 作为数据输入, 同时管道中心会新建一个管道，提供为执行器的输出结果。


我们从管道中心的角度来看这个启动和执行、结束过程如何实现
首先定义"订阅"的储存器，以字典 Dict[str, Asyncio.Queue] 为例子 

1. 初始化 - 初始化 start_pipe, end_pipe
2. 根据graph注册执行器以及分配管道
3. 
a. 首个执行器A 订阅 start_pipe, 相当于设置一个handler 只要数据传入start_pipe 就进入 async for ( 重写了 __aiter__ with 'while True: await pipe.get()')
    i. 订阅了之后需要同步写入一个pipe, 自动新建一个 执行器 A processor_a_unique_id 的pipe， 
b. 某个执行器B， 订阅 某个执行器C 的输出pipe (named after processor_c_unique_id), 
    i. 如果还没有定义过这个pipe，就新建一个pipe 
    ii. 如果已经定义过这个pipe, 相当于已经有其他执行器


如果从执行器的视角看到的是这样的

1. 定义执行器, 包括名称和process 方法
2. 请求pipe_hub开放输入和输出pipe, 成功后即完成实例化
3. 一旦有注册的pipe输入数据，启动执行方法
